!function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){var t;(t=e).ajax=function(e){var o=t.merge(!0,{url:!1,type:"GET",dataType:"json",success:!1,error:!1,data:!1,headers:{}},e);e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var a=new XMLHttpRequest;if(!o.url)return!1;a.open(o.type.toUpperCase(),o.url,!0),a.setRequestHeader("Content-Type",e[o.dataType]||e.text),t.objectEach(o.headers,function(e,t){a.setRequestHeader(t,e)}),a.onreadystatechange=function(){var e;if(4===a.readyState){if(200===a.status){if(e=a.responseText,"json"===o.dataType)try{e=JSON.parse(e)}catch(e){return void(o.error&&o.error(a,e))}return o.success&&o.success(e)}o.error&&o.error(a,a.responseText)}};try{o.data=JSON.stringify(o.data)}catch(e){}a.send(o.data||!0)},function(e){var t=e.defined,o=e.each,a=e.pick,n=e.win,r=n.document,i=e.seriesTypes,s=void 0!==r.createElement("a").download;e.setOptions({exporting:{csv:{columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:"\n"},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{viewData:"View data table"}}),e.addEvent(e.Chart,"render",function(){this.options&&this.options.exporting&&this.options.exporting.showTable&&this.viewData()}),e.Chart.prototype.setUpKeyToAxis=function(){i.arearange&&(i.arearange.prototype.keyToAxis={low:"y",high:"y"})},e.Chart.prototype.getDataRows=function(n){var r,i,s,l,p,c,h,m=this.time,x=this.options.exporting&&this.options.exporting.csv||{},u=this.xAxis,d={},f=[],g=[],y=[],v=function(t,o,a){if(x.columnHeaderFormatter){var r=x.columnHeaderFormatter(t,o,a);if(!1!==r)return r}return t?t instanceof e.Axis?t.options.title&&t.options.title.text||(t.isDatetimeAxis?"DateTime":"Category"):n?{columnTitle:1<a?o:t.name,topLevelColumnTitle:t.name}:t.name+(1<a?" ("+o+")":""):"Category"},b=[];for(i in l=0,this.setUpKeyToAxis(),o(this.series,function(t){var r,i,p=t.options.keys||t.pointArrayMap||["y"],c=p.length,h=!t.requireSorting&&{},f={},w={},T=e.inArray(t.xAxis,u);if(o(p,function(e){var o=(t.keyToAxis&&t.keyToAxis[e]||e)+"Axis";f[e]=t[o]&&t[o].categories||[],w[e]=t[o]&&t[o].isDatetimeAxis}),!1!==t.options.includeInCSVExport&&!t.options.isInternal&&!1!==t.visible){for(e.find(b,function(e){return e[0]===T})||b.push([T,l]),i=0;i<c;)s=v(t,p[i],p.length),y.push(s.columnTitle||s),n&&g.push(s.topLevelColumnTitle||s),i++;r={chart:t.chart,autoIncrement:t.autoIncrement,options:t.options,pointArrayMap:t.pointArrayMap},o(t.options.data,function(e,o){var n,s;for(s={series:r},t.pointClass.prototype.applyOptions.apply(s,[e]),e=s.x,h&&(h[e]&&(e+="|"+o),h[e]=!0),i=0,d[e]||(d[e]=[],d[e].xValues=[]),d[e].x=s.x,d[e].xValues[T]=s.x,t.xAxis&&"name"!==t.exportKey||(d[e].name=t.data[o]&&t.data[o].name);i<c;)n=s[o=p[i]],d[e][l+i]=a(f[o][n],w[o]?m.dateFormat(x.dateFormat,n):null,n),i++}),l+=i}}),d)d.hasOwnProperty(i)&&f.push(d[i]);for(i=n?[g,y]:[y],l=b.length;l--;)c=b[l][0],h=b[l][1],r=u[c],f.sort(function(e,t){return e.xValues[c]-t.xValues[c]}),p=v(r),i[0].splice(h,0,p),n&&i[1]&&i[1].splice(h,0,p),o(f,function(e){var o=e.name;r&&!t(o)&&(r.isDatetimeAxis?(e.x instanceof Date&&(e.x=e.x.getTime()),o=m.dateFormat(x.dateFormat,e.x)):o=r.categories?a(r.names[e.x],r.categories[e.x],e.x):e.x),e.splice(h,0,o)});return i.concat(f)},e.Chart.prototype.getCSV=function(e){var t="",n=this.getDataRows(),r=this.options.exporting.csv,i=a(r.decimalPoint,","!==r.itemDelimiter&&e?1.1.toLocaleString()[1]:"."),s=a(r.itemDelimiter,","===i?";":","),l=r.lineDelimiter;return o(n,function(e,o){for(var a,r=e.length;r--;)"string"==typeof(a=e[r])&&(a='"'+a+'"'),"number"==typeof a&&"."!==i&&(a=a.toString().replace(".",i)),e[r]=a;t+=e.join(s),o<n.length-1&&(t+=l)}),t},e.Chart.prototype.getTable=function(e){var t="<table>",n=this.options,r=e?1.1.toLocaleString()[1]:".",i=a(n.exporting.useMultiLevelHeaders,!0);e=this.getDataRows(i);var s=0,l=i?e.shift():null,p=e.shift(),c=function(e,t,o,n){var i=a(n,"");return t="text"+(t?" "+t:""),"number"==typeof i?(i=i.toString(),","===r&&(i=i.replace(".",r)),t="number"):n||(t="empty"),"<"+e+(o?" "+o:"")+' class="'+t+'">'+i+"</"+e+">"};!1!==n.exporting.tableCaption&&(t+='<caption class="highcharts-table-caption">'+a(n.exporting.tableCaption,n.title.text?n.title.text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):"Chart")+"</caption>");for(var h=0,m=e.length;h<m;++h)e[h].length>s&&(s=e[h].length);return t+=function(e,t,o){var a="<thead>",r=0;o=o||t&&t.length;var s,l,p=0;if(l=i&&e&&t){e:if(l=e.length,t.length===l){for(;l--;)if(e[l]!==t[l]){l=!1;break e}l=!0}else l=!1;l=!l}if(l){for(a+="<tr>";r<o;++r)(l=e[r])===(s=e[r+1])?++p:p?(a+=c("th","highcharts-table-topheading",'scope="col" colspan="'+(p+1)+'"',l),p=0):(l===t[r]?n.exporting.useRowspanHeaders?(s=2,delete t[r]):(s=1,t[r]=""):s=1,a+=c("th","highcharts-table-topheading",'scope="col"'+(1<s?' valign="top" rowspan="'+s+'"':""),l));a+="</tr>"}if(t){for(a+="<tr>",r=0,o=t.length;r<o;++r)void 0!==t[r]&&(a+=c("th",null,'scope="col"',t[r]));a+="</tr>"}return a+"</thead>"}(l,p,Math.max(s,p.length)),t+="<tbody>",o(e,function(e){t+="<tr>";for(var o=0;o<s;o++)t+=c(o?"td":"th",null,o?"":'scope="row"',e[o]);t+="</tr>"}),t+="</tbody></table>"},e.Chart.prototype.fileDownload=function(t,o,a){var i;i=this.options.exporting.filename?this.options.exporting.filename:this.title&&this.title.textStr?this.title.textStr.replace(/ /g,"-").toLowerCase():"chart",n.Blob&&n.navigator.msSaveOrOpenBlob?(t=new n.Blob(["\ufeff"+a],{type:"text/csv"}),n.navigator.msSaveOrOpenBlob(t,i+"."+o)):s?((a=r.createElement("a")).href=t,a.download=i+"."+o,this.container.appendChild(a),a.click(),a.remove()):e.error("The browser doesn't support downloading files")},e.Chart.prototype.downloadCSV=function(){var e=this.getCSV(!0);this.fileDownload("data:text/csv,\ufeff"+encodeURIComponent(e),"csv",e,"text/csv")},e.Chart.prototype.downloadXLS=function(){var e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";this.fileDownload("data:application/vnd.ms-excel;base64,"+n.btoa(unescape(encodeURIComponent(e))),"xls",e,"application/vnd.ms-excel")},e.Chart.prototype.viewData=function(){this.dataTableDiv||(this.dataTableDiv=r.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv.innerHTML=this.getTable()};var l=e.getOptions().exporting;l&&(e.extend(l.menuItemDefinitions,{viewData:{textKey:"viewData",onclick:function(){this.viewData()}}}),l.buttons.contextButton.menuItems.push("viewData")),i.map&&(i.map.prototype.exportKey="name"),i.mapbubble&&(i.mapbubble.prototype.exportKey="name"),i.treemap&&(i.treemap.prototype.exportKey="name")}(e)});